# Duktape 1.3.0 performance measurement

Measurement host:

* "Intel(R) Core(TM) i7-4600U CPU @ 2.10GHz" laptop

Duktape is compiled with:

* gcc-4.8.4 (Ubuntu 14.04.3) on x64
* `gcc -O2`
* debugger and interrupt executor support enabled
* fastints enabled
* `JSON.stringify()` fast path disabled

Note that:

* These are microbenchmarks, and don't necessarily represent application
  performance very well.  Microbenchmarks are useful for measuring how well
  different parts of the engine work.

* Only relative numbers matter.  Loop counts differ between test cases so
  the numbers for two tests are not directly comparable.  Absolute numbers
  may also change between test runs if test target is different.

* The measurement process is not very accurate: it's based on running the
  test multiple times and measuring time using the `time` command.

## Performance summary

<table>
<tr>
<th>Testcase</th>
<th>duk 1.3.0</th>
<th>duk 1.2.3</th>
<th>duk 1.1.3</th>
<th>rhino</th>
<th>lua 5.1</th>
<th>python</th>
<th>perl</th>
<th>ruby</th>
</tr>
<tr>
<td>test-array-read.js</td>
<td>4.13</td>
<td>5.62</td>
<td>7.96</td>
<td>0.99</td>
<td>1.19</td>
<td>5.64</td>
<td>5.34</td>
<td>4.41</td>
</tr>
<tr>
<td>test-array-write.js</td>
<td>4.37</td>
<td>6.04</td>
<td>22.21</td>
<td>1.59</td>
<td>1.38</td>
<td>6.30</td>
<td>5.32</td>
<td>6.89</td>
</tr>
<tr>
<td>test-bitwise-ops.js</td>
<td>0.85</td>
<td>1.11</td>
<td>5.06</td>
<td>8.41</td>
<td>n/a</td>
<td>n/a</td>
<td>n/a</td>
<td>n/a</td>
</tr>
<tr>
<td>test-buffer-nodejs-read.js</td>
<td>4.61</td>
<td>n/a</td>
<td>n/a</td>
<td>n/a</td>
<td>n/a</td>
<td>n/a</td>
<td>n/a</td>
<td>n/a</td>
</tr>
<tr>
<td>test-buffer-nodejs-write.js</td>
<td>5.52</td>
<td>n/a</td>
<td>n/a</td>
<td>n/a</td>
<td>n/a</td>
<td>n/a</td>
<td>n/a</td>
<td>n/a</td>
</tr>
<tr>
<td>test-buffer-object-read.js</td>
<td>4.62</td>
<td>21.63</td>
<td>25.47</td>
<td>n/a</td>
<td>n/a</td>
<td>n/a</td>
<td>n/a</td>
<td>n/a</td>
</tr>
<tr>
<td>test-buffer-object-write.js</td>
<td>5.53</td>
<td>24.61</td>
<td>28.58</td>
<td>n/a</td>
<td>n/a</td>
<td>n/a</td>
<td>n/a</td>
<td>n/a</td>
</tr>
<tr>
<td>test-buffer-plain-read.js</td>
<td>4.24</td>
<td>5.25</td>
<td>7.70</td>
<td>n/a</td>
<td>n/a</td>
<td>n/a</td>
<td>n/a</td>
<td>n/a</td>
</tr>
<tr>
<td>test-buffer-plain-write.js</td>
<td>3.75</td>
<td>5.28</td>
<td>10.55</td>
<td>n/a</td>
<td>n/a</td>
<td>n/a</td>
<td>n/a</td>
<td>n/a</td>
</tr>
<tr>
<td>test-call-basic.js</td>
<td>14.42</td>
<td>15.52</td>
<td>20.05</td>
<td>3.87</td>
<td>2.41</td>
<td>9.02</td>
<td>9.70</td>
<td>6.24</td>
</tr>
<tr>
<td>test-compile-mandel-nofrac.js</td>
<td>13.21</td>
<td>16.52</td>
<td>18.38</td>
<td>7.54</td>
<td>n/a</td>
<td>n/a</td>
<td>n/a</td>
<td>n/a</td>
</tr>
<tr>
<td>test-compile-mandel.js</td>
<td>16.32</td>
<td>19.49</td>
<td>21.45</td>
<td>7.58</td>
<td>n/a</td>
<td>n/a</td>
<td>n/a</td>
<td>n/a</td>
</tr>
<tr>
<td>test-compile-short.js</td>
<td>10.17</td>
<td>9.91</td>
<td>11.07</td>
<td>4.11</td>
<td>n/a</td>
<td>n/a</td>
<td>n/a</td>
<td>n/a</td>
</tr>
<tr>
<td>test-const-load.js</td>
<td>5.96</td>
<td>9.48</td>
<td>10.88</td>
<td>0.30</td>
<td>2.10</td>
<td>5.41</td>
<td>24.22</td>
<td>4.01</td>
</tr>
<tr>
<td>test-empty-loop.js</td>
<td>2.33</td>
<td>3.10</td>
<td>5.73</td>
<td>0.66</td>
<td>0.94</td>
<td>4.50</td>
<td>3.40</td>
<td>3.30</td>
</tr>
<tr>
<td>test-fib.js</td>
<td>8.57</td>
<td>9.39</td>
<td>9.77</td>
<td>1.22</td>
<td>1.32</td>
<td>2.39</td>
<td>6.39</td>
<td>1.51</td>
</tr>
<tr>
<td>test-global-lookup.js</td>
<td>9.98</td>
<td>10.59</td>
<td>11.52</td>
<td>1.22</td>
<td>n/a</td>
<td>n/a</td>
<td>n/a</td>
<td>n/a</td>
</tr>
<tr>
<td>test-hello-world.js</td>
<td>0.00</td>
<td>0.00</td>
<td>0.00</td>
<td>0.23</td>
<td>0.00</td>
<td>0.00</td>
<td>0.00</td>
<td>0.00</td>
</tr>
<tr>
<td>test-hex-decode.js</td>
<td>5.30</td>
<td>5.30</td>
<td>9.30</td>
<td>n/a</td>
<td>n/a</td>
<td>12.33</td>
<td>n/a</td>
<td>n/a</td>
</tr>
<tr>
<td>test-hex-encode.js</td>
<td>26.28</td>
<td>26.32</td>
<td>28.56</td>
<td>n/a</td>
<td>n/a</td>
<td>2.85</td>
<td>n/a</td>
<td>n/a</td>
</tr>
<tr>
<td>test-json-integer-parse.js</td>
<td>0.41</td>
<td>0.42</td>
<td>0.41</td>
<td>1.07</td>
<td>n/a</td>
<td>0.07</td>
<td>n/a</td>
<td>n/a</td>
</tr>
<tr>
<td>test-json-number-parse.js</td>
<td>5.09</td>
<td>4.98</td>
<td>5.23</td>
<td>1.58</td>
<td>n/a</td>
<td>0.29</td>
<td>n/a</td>
<td>n/a</td>
</tr>
<tr>
<td>test-json-serialize.js</td>
<td>1.56</td>
<td>3.08</td>
<td>3.21</td>
<td>3.29</td>
<td>n/a</td>
<td>0.51</td>
<td>n/a</td>
<td>n/a</td>
</tr>
<tr>
<td>test-json-string-bench.js</td>
<td>5.41</td>
<td>5.38</td>
<td>6.63</td>
<td>2.11</td>
<td>n/a</td>
<td>n/a</td>
<td>n/a</td>
<td>n/a</td>
</tr>
<tr>
<td>test-json-string-parse.js</td>
<td>0.55</td>
<td>2.99</td>
<td>2.99</td>
<td>2.46</td>
<td>n/a</td>
<td>n/a</td>
<td>n/a</td>
<td>n/a</td>
</tr>
<tr>
<td>test-json-string-stringify.js</td>
<td>1.23</td>
<td>3.53</td>
<td>3.50</td>
<td>6.15</td>
<td>n/a</td>
<td>0.48</td>
<td>n/a</td>
<td>n/a</td>
</tr>
<tr>
<td>test-prop-read.js</td>
<td>7.58</td>
<td>8.48</td>
<td>12.00</td>
<td>1.07</td>
<td>1.24</td>
<td>6.17</td>
<td>6.86</td>
<td>14.56</td>
</tr>
<tr>
<td>test-prop-write.js</td>
<td>6.95</td>
<td>7.75</td>
<td>11.47</td>
<td>2.14</td>
<td>1.42</td>
<td>6.49</td>
<td>6.91</td>
<td>18.21</td>
</tr>
<tr>
<td>test-reg-load.js</td>
<td>2.75</td>
<td>4.29</td>
<td>5.29</td>
<td>0.30</td>
<td>2.25</td>
<td>5.70</td>
<td>n/a</td>
<td>4.04</td>
</tr>
<tr>
<td>test-reg-readwrite-object.js</td>
<td>3.72</td>
<td>5.33</td>
<td>7.03</td>
<td>0.34</td>
<td>1.72</td>
<td>4.72</td>
<td>28.35</td>
<td>3.87</td>
</tr>
<tr>
<td>test-reg-readwrite-plain.js</td>
<td>2.48</td>
<td>3.93</td>
<td>4.67</td>
<td>0.37</td>
<td>1.72</td>
<td>4.73</td>
<td>30.16</td>
<td>3.98</td>
</tr>
<tr>
<td>test-regexp-string-parse.js</td>
<td>10.51</td>
<td>12.59</td>
<td>12.43</td>
<td>n/a</td>
<td>n/a</td>
<td>0.46</td>
<td>n/a</td>
<td>n/a</td>
</tr>
<tr>
<td>test-string-array-concat.js</td>
<td>6.37</td>
<td>7.52</td>
<td>24.43</td>
<td>2.02</td>
<td>2.06</td>
<td>2.83</td>
<td>7.40</td>
<td>7.74</td>
</tr>
<tr>
<td>test-string-compare.js</td>
<td>3.76</td>
<td>4.56</td>
<td>6.07</td>
<td>5.67</td>
<td>2.80</td>
<td>4.85</td>
<td>16.13</td>
<td>5.30</td>
</tr>
<tr>
<td>test-string-decodeuri.js</td>
<td>3.54</td>
<td>4.10</td>
<td>4.02</td>
<td>1.91</td>
<td>n/a</td>
<td>n/a</td>
<td>n/a</td>
<td>n/a</td>
</tr>
<tr>
<td>test-string-encodeuri.js</td>
<td>4.29</td>
<td>6.17</td>
<td>6.24</td>
<td>6.82</td>
<td>n/a</td>
<td>n/a</td>
<td>n/a</td>
<td>n/a</td>
</tr>
<tr>
<td>test-string-intern-match.js</td>
<td>2.35</td>
<td>2.36</td>
<td>2.41</td>
<td>n/a</td>
<td>n/a</td>
<td>n/a</td>
<td>n/a</td>
<td>n/a</td>
</tr>
<tr>
<td>test-string-intern-miss.js</td>
<td>2.51</td>
<td>2.54</td>
<td>2.76</td>
<td>n/a</td>
<td>n/a</td>
<td>n/a</td>
<td>n/a</td>
<td>n/a</td>
</tr>
<tr>
<td>test-string-plain-concat.js</td>
<td>4.06</td>
<td>4.07</td>
<td>4.06</td>
<td>0.31</td>
<td>0.59</td>
<td>0.00</td>
<td>0.41</td>
<td>0.71</td>
</tr>
<tr>
<td>test-string-uppercase.js</td>
<td>2.55</td>
<td>3.28</td>
<td>3.26</td>
<td>2.55</td>
<td>n/a</td>
<td>1.21</td>
<td>n/a</td>
<td>n/a</td>
</tr>
</table>
